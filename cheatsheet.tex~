\documentclass[14pt,english]{scrbook}
\usepackage{ae,aecompl}
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\usepackage{geometry}
\geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
\setlength{\parskip}{\smallskipamount}
\setlength{\parindent}{0pt}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{setspace}
\setstretch{1.1}

\makeatletter
\numberwithin{equation}{section}
\theoremstyle{definition}
\newtheorem*{example*}{\protect\examplename}
\theoremstyle{plain}
\newtheorem{thm}{\protect\theoremname}[section]

\@ifundefined{date}{}{\date{}}
\AtBeginDocument{
\addtolength{\abovedisplayskip}{0ex}
\addtolength{\abovedisplayshortskip}{0ex}
\addtolength{\belowdisplayskip}{0ex}
\addtolength{\belowdisplayshortskip}{0ex}
}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem*{corollary*}{Corollary}

\makeatother

\usepackage{babel}
\providecommand{\examplename}{Example}
\providecommand{\theoremname}{Theorem}

\begin{document}
\title{Combinatorics: Cheatsheet}
\author{Ronald Mangang}
\thispagestyle{empty}
\maketitle

\newpage



\chapter{Inclusion-Exclusion}

\section{Inclusion-exclusion principle}

Suppose $A_1, A_2, \ldots, A_n$ are finite sets then
\begin{align*}
  |\bigcup_{i=1}^n A_i | &= \sum_{i=1}^n|A_i|-\sum_{i<j}^n |A_i \cap A_j | +
  \cdots + \\
  &(-1)^{n+1} |A_1 \cap A_2 \cap \ldots \cap A_n |.
\end{align*}

\paragraph*{Generalized inclusion-exclusion principle.}
Let $|S|=n$ and $\{P_1,P_2,\ldots,P_q\}$ be a set of $q$ properties which may be satisfied by elements of $S$. We define
\[
  \omega(P_{i1}P_{i2}\cdots P_{im}) = |\cap_{j=1}^m A_{ij} |
\]
where $A_{ij} \in S$ is the set of elements having property $P_{ij}$. We define
\[
  \omega(m) = \sum(\omega(P_{i1}P_{i2}\cdots P_{im}).
\]
That is, $\omega(m)$ is the number of elements of $S$ having at least $m$ properties.\\

We define
\[
  E(m) = \text{number of elements of $S$ having exactly $m$ properties.}
\]
Then
\begin{align*}
  E(m) =& \omega(m) - \binom{m+1}{m}\omega(m+1)+\binom{m+2}{m}\omega(m+2) \\
        & \cdots + (-1)^{q-m}\binom{q}{m}\omega(q) \\
  =& \sum_{k=m}^q (-1)^{k-m}\binom{k}{m}\omega (k).
\end{align*}
We define $\omega(0) = |S|$. \\

As a special case, we have
\begin{align*}
  E(0) &= \omega(0) - \omega(1) + \cdots + (-1)^q \omega(q) \\
       &= \sum_{k=0}^q (-1)^k \omega(k).
\end{align*}

Let $A_1, A_2, \ldots, A_q$ be any $q$ subsets of a finite set $S$. Then
\begin{align*}
  E(0)=&|\bar A_1 \cap \bar A_2 \cap \cdots \cap \bar A_q | \\
  =&|S| - \sum_{i=1}^q |A_i| + \sum_{i<j}^q |A_i \cap A_j | - \sum_{i<j<k}^q |A_i \cap A_j \cap A_k | + \cdots \\
  &(-1)^q |A_1 \cap A_2 \cap \cdots \cap A_q |
\end{align*}
which leads to the familiar exclusion-inclusion principle.

\paragraph{Stirling numbers of the second kind.}

The number of onto functions from $A$ to $B$ where $|A|=n$ and $|B|=m$ is
\begin{equation}
  F(n,m) = \sum_{k=0}^m (-1)^k \binom{m}{k} (m-k)^n.
\end{equation}

This is the number of ways of distributing $n$ distinct objects into $m$ distinct boxes so that no box is empty. Then it follows that
\begin{equation}
  F(n,m) = m! S(n,m)
\end{equation}
which gives a formula to compute $S(n,m)$.

\paragraph{Permutations with fixed points.}



\end{document}


